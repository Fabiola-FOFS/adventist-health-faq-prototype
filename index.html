<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Central de Apoio ‚Äî Adventist Health (Prot√≥tipo)</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/main.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<body>
  <header>
    <div class="container">
      <div class="hero">
        <div>
          <h1>Central de Apoio ‚Äî Adventist Health (Prot√≥tipo)</h1>
          <p class="small">Perguntas frequentes, guias r√°pidos, v√≠deos e chatbot para apoiar integra√ß√£o e padroniza√ß√£o.</p>
          <div class="search">
            <input type="text" placeholder="encontre sua resposta digite: pendente" id="searchInput">
          </div>
          <!-- MENU PRINCIPAL -->
          <nav>
            <!-- üîπ Cada bot√£o leva para uma p√°gina HTML separada -->
        
            <a href="onboarding.html"><i class="fa-solid fa-user-check"></i> Onboarding</a>
           <a href="sistemas.html"><i class="fa-solid fa-network-wired"></i> Sistemas</a>
           <a href="fluxos.html"><i class="fa-solid fa-diagram-project"></i> Fluxos</a>
           <a href="notificacoes.html"><i class="fa-solid fa-bell"></i>Notifica√ß√µes</class></a>
           <a href="produtividade.html"><i class="fa-solid fa-award"></i>Desempenho</a>
            <!-- carregar o conte√∫do via JavaScript sem recarregar a p√°gina,
                 devo usar fetch() no main.js e injetar o HTML dentro de uma <div id="conteudoPrincipal"></div> no corpo da p√°gina. -->
          </nav>
        </div>
       <div style="margin-left:auto;min-width:180px;text-align:right">
          <div style="background:rgba(255,255,255,0.12);padding:10px;border-radius:10px;display:inline-block">
            <div style="font-weight:600">Usu√°rio</div>
            <div class="small">Colaborador - Exemplo</div>
          </div>
        </div>
      </div>
    </div>
  </header>
  <main class="container layout">
    <!-- Coluna esquerda: FAQs -->
    <section class="faq-list">
      <h2>Perguntas Frequentes</h2>
      <div id="faqContainer" class="card" style="margin-top:0px"></div>
    </section>

    <!-- Coluna direita: Chat e Recursos -->
    <aside>
      <div class="card">
        <h3>Chat ‚Äî Assistente</h3>
        <p class="small">Bot para d√∫vidas r√°pidas. (Prot√≥tipo: substitua por integra√ß√£o com OpenAI, Dialogflow ou Rasa)</p>
        <div style="height:150px;border-radius:8px;background:#f8fafc;padding:10px;overflow:auto">[Chat placeholder ‚Äî integra√ß√£o necess√°ria]</div>
        <div style="margin-top:40px;">
          <a class="btn" href="#">Abrir Chat</a>
        </div>
      <div class="card" style="margin-top:100px">
        <h3>Recursos r√°pidos</h3>
        <ul>
          <li>Sugest√µes de conte√∫dos</li>
          <li>Guia de acesso remoto</li>
          <li>Checklist de turnos e escalas</li>
          <li>Pol√≠tica de seguran√ßa da informa√ß√£o</li>
        </ul>
      </div>
    </aside>
  </main>

  <footer>
    Prot√≥tipo criado como projeto de extens√£o ‚Äî Curso: An√°lise e Desenvolvimento de Sistemas/ Unasp ‚Äî Desenvolvido para apresenta√ß√£o interna na Adventist Health.
  </footer>

  <script>


  let faqsData = [];

  async function carregarFAQs() {
    try {
      const resposta = await fetch('content/faq.json');
      if (!resposta.ok) throw new Error('Erro ao carregar faq.json');
      faqsData = await resposta.json();
      exibirFAQs(faqsData);
    } catch (e) {
      console.error(e);
      document.getElementById('faqContainer').innerHTML = '<p>Erro ao carregar FAQs.</p>';
    }
  }

  function exibirFAQs(faqs) {
    const container = document.getElementById('faqContainer');
    container.innerHTML = '';
    faqs.forEach(f => {
      const item = document.createElement('div');
      item.classList.add('faq-item');
      item.innerHTML = `
        <strong style="cursor:pointer;color:#0b63d6">${f.titulo}</strong>
        <div class="small" style="display:none;margin-top:6px;">${f.resposta}</div>
      `;
      const titulo = item.querySelector('strong');
      const resposta = item.querySelector('.small');
      titulo.addEventListener('click', () => {
        resposta.style.display = resposta.style.display === 'none' ? 'block' : 'none';
      });
      container.appendChild(item);
    });
  }

  // --- NOVA FUN√á√ÉO: busca em FAQs, sem destaque visual ---
  function filtrarConteudo(termo) {
    termo = termo.toLowerCase();

    // Filtra as FAQs com base no termo digitado
    const faqsFiltradas = faqsData.filter(f =>
      f.titulo.toLowerCase().includes(termo) ||
      f.resposta.toLowerCase().includes(termo)
    );

    // Exibe apenas as FAQs filtradas
    if (termo) {
      exibirFAQs(faqsFiltradas);
    } else {
      exibirFAQs(faqsData);
    }
  }

  // --- Evento de pesquisa ---
  document.addEventListener('DOMContentLoaded', () => {
    carregarFAQs();

    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', e => {
      const termo = e.target.value.trim();
      filtrarConteudo(termo);
    });
  });
</script>
</body>
</html>